###############################################################
#                Authelia Users Database                      #
###############################################################
# Ce fichier définit les utilisateurs pour le backend "file"
# Placez ce fichier dans /var/lib/authelia/users_database.yml
# sur votre serveur Authelia

users:
  # Exemple d'administrateur
  admin:
    displayname: "Administrator"
    # Hash généré avec: authelia crypto hash generate argon2 --password 'ChangeMe123!'
    # ⚠️  CHANGEZ CE MOT DE PASSE ! Utilisez scripts/authelia-hash-password.sh
    password: "$argon2id$v=19$m=65536,t=3,p=4$YourHashHere"
    email: admin@hexaflare.net
    groups:
      - admins
      - dev
      - users

  # Exemple d'utilisateur standard
  # john:
  #   displayname: "John Doe"
  #   password: "$argon2id$v=19$m=65536,t=3,p=4$YourHashHere"
  #   email: john@hexaflare.net
  #   groups:
  #     - users
  #     - family

###############################################################
# Groupes disponibles (exemples)                              #
###############################################################
# - admins: accès complet à tous les services
# - dev: accès aux services de développement (Gitea, etc.)
# - users: accès aux services utilisateurs standards
# - family: accès limité pour la famille
# - readonly: accès en lecture seule

###############################################################
# Pour générer un nouveau hash:                               #
###############################################################
# 1. Avec le script fourni:
#    ./scripts/authelia-hash-password.sh
#
# 2. Manuellement avec Authelia:
#    nix-shell -p authelia
#    authelia crypto hash generate argon2 --password 'VotreMotDePasse'
#
# 3. Avec Docker:
#    docker run --rm authelia/authelia:latest \
#      authelia crypto hash generate argon2 --password 'VotreMotDePasse'

###############################################################
# Après modification:                                         #
###############################################################
# 1. Copiez ce fichier sur le serveur:
#    scp users_database.yml root@authelia:/var/lib/authelia/
#
# 2. Corrigez les permissions:
#    chown authelia:authelia /var/lib/authelia/users_database.yml
#    chmod 600 /var/lib/authelia/users_database.yml
#
# 3. Le fichier est rechargé automatiquement (watch = true)
#    Sinon: systemctl reload authelia
